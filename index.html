<!DOCTYPE html>
<html lang="en" data-bs-theme="auto">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Green Dashboard Template · Bootstrap v5.3</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Offcanvas for Sidebar on mobile -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasSidebar">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title">Main navigation</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <ul class="nav flex-column">
                <!-- Sidebar content for mobile -->
            </ul>
        </div>
    </div>
    <!-- Navbar for mobile -->
    <nav class="navbar navbar-expand-lg bg-body d-lg-none sticky-top">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSidebar"
                aria-controls="offcanvasSidebar" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapseNavbar"
                aria-controls="collapseNavbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>
    <!-- Collapse for Navbar -->
    <div class="collapse sticky-top bg-body" id="collapseNavbar">
        <div class="card card-body">
            <ul class="nav d-flex align-items-center w-100 mb-0">
                <li class="nav-item ms-auto me-2">
                    User Name(Account)，您好
                </li>
                <li class="nav-item me-2">
                    <div id="theme-collapse">
                        <i class='bx bx-moon'></i>
                    </div>
                </li>
                <li class="nav-item">
                    <form class="nav-item" role="login" action="login.php" method="post" name="logout">
                        <input type="hidden" name="logout" value="1" />
                        <button class="btn btn-outline-success" type="submit">
                            <i class='bx bx-log-in-circle'></i>
                            <span class="d-none d-md-inline">Logout</span>
                        </button>
                    </form>
                </li>
            </ul>
        </div>
    </div>
    <div class="container-fluid px-0 d-flex">
        <!-- sidebar -->
        <nav class="sidebar close d-flex d-none d-lg-block bg-body sticky-top">
            <div class="logo">
                <i class='bx bxs-home-heart'></i>
                <span class="logo_name">Dashboard</span>
            </div>
            <ul class="nav-links">
                <li>
                    <a href="#">
                        <i class='bx bx-grid-alt'></i>
                        <span class="link_name">Home</span>
                    </a>
                    <ul class="sub-menu blank">
                        <li><a class="link_name" href="#">Home</a></li>
                    </ul>
                </li>
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bx-add-to-queue'></i>
                            <span class="link_name">Upload</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a class="link_name" href="#">Upload</a></li>
                        <li><a href="#">Single upload</a></li>
                        <li><a href="#">Batch upload</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">
                        <i class='bx bx-data'></i>
                        <span class="link_name">History</span>
                    </a>
                    <ul class="sub-menu blank">
                        <li><a class="link_name" href="#">History</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">
                        <i class='bx bx-chart'></i>
                        <span class="link_name">Analyze</span>
                    </a>
                    <ul class="sub-menu blank">
                        <li><a class="link_name" href="#">Analyze</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">
                        <i class='bx bx-envelope'></i>
                        <span class="link_name">Email</span>
                    </a>
                    <ul class="sub-menu blank">
                        <li><a class="link_name" href="#">Email</a></li>
                    </ul>
                </li>
                <li>
                    <div class="iocn-link">
                        <a href="#">
                            <i class='bx bx-cog'></i>
                            <span class="link_name">Settings</span>
                        </a>
                        <i class='bx bxs-chevron-down arrow'></i>
                    </div>
                    <ul class="sub-menu">
                        <li><a class="link_name" href="#">Settings</a></li>
                        <li><a href="#">Admin</a></li>
                        <li><a href="#">Language</a></li>
                        <li><a href="#">Item</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
        <main class="flex-grow-1 main">
            <!-- Navbar -->
            <nav id="Navbar" class="navbar navbar-expand-lg d-none d-lg-block bg-body sticky-top">
                <div class="container-fluid">
                    <ul class="nav d-flex align-items-center w-100 mb-0">
                        <li class="nav-item me-2">
                            <i class='bx bx-menu'></i>
                        </li>
                        <li class="nav-item ms-auto me-2">
                            User Name(Account)，您好
                        </li>
                        <li class="nav-item me-2">
                            <div id="theme-navbar">
                                <i class='bx bx-moon bx-sm'></i>
                            </div>
                        </li>
                        <form class="nav-item" role="login" action="login.php" method="post" name="logout">
                            <input type="hidden" name="logout" value="1" />
                            <button class="btn btn-outline-success" type="submit">
                                <i class='bx bx-log-in-circle'></i>
                                <span class="d-none d-md-inline">Logout</span>
                            </button>
                        </form>
                    </ul>
                </div>
            </nav>
            <!-- content  -->
            <div class="content py-4 px-5">
                <div class="container-fluid p-3 bg-body rounded shadow-sm">
                    <button id="addRowBtn" class="btn btn-warning btn-sm">
                        <i class='bx bx-plus'></i>New
                    </button>
                    <button id="saveBtn" class="btn btn-success btn-sm">
                        <i class='bx bx-save'></i>Save
                    </button>
                </div>
                <p> </p>
                <div class="container-fluid p-3 bg-body rounded shadow-sm">
                    <!-- Upload -->
                    <form id="uploadForm" action="hospListUpload.php" method="post" enctype="multipart/form-data"
                        style="width: 50%;">
                        <div class="input-group mb-3">
                            <input type="file" class="form-control" name="csv_file" required>
                            <button type="submit" class="btn btn-warning btn-sm" name="upload">
                                <i class='bx bx-cloud-upload'></i> Upload
                            </button>
                        </div>
                    </form>
                </div>
                <p></p>
                <div class="container-fluid p-3 bg-body rounded shadow-sm">
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                        Launch demo modal
                    </button>

                    <!-- Modal -->
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                        aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                        aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    ...
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary"
                                        data-bs-dismiss="modal">Close</button>
                                    <button type="button" class="btn btn-primary">Save changes</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <script>
                        const myModal = document.getElementById('myModal')
                        const myInput = document.getElementById('myInput')

                        myModal.addEventListener('shown.bs.modal', () => {
                            myInput.focus()
                        })
                    </script>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script>
        // 檢查 localStorage 中的主題並設置
        document.addEventListener("DOMContentLoaded", function () {
            const savedTheme = localStorage.getItem('theme');
            const htmlElement = document.documentElement;
            if (savedTheme) {
                htmlElement.setAttribute('data-bs-theme', savedTheme);
                const themeIcon = document.querySelector('#theme-navbar i');
                themeIcon.classList.toggle('bx-moon', savedTheme === 'light');
                themeIcon.classList.toggle('bx-sun', savedTheme === 'dark');
            }
        });

        function toggleTheme(iconId) {
            const htmlElement = document.documentElement;
            const themeIcon = document.querySelector(iconId + ' i');
            const newTheme = htmlElement.getAttribute('data-bs-theme') === 'light' ? 'dark' : 'light';

            htmlElement.setAttribute('data-bs-theme', newTheme);
            localStorage.setItem('theme', newTheme); // 儲存主題到 localStorage
            themeIcon.classList.toggle('bx-moon', newTheme === 'light');
            themeIcon.classList.toggle('bx-sun', newTheme === 'dark');
        }

        document.getElementById('theme-collapse').addEventListener('click', function () {
            toggleTheme('#theme-collapse');
        });

        document.getElementById('theme-navbar').addEventListener('click', function () {
            toggleTheme('#theme-navbar');
        });   
    </script>
    <script>
        let iconLinks = document.querySelectorAll(".iocn-link");
        iconLinks.forEach((iconLink) => {
            iconLink.addEventListener("click", () => {
                let parentLi = iconLink.parentElement;
                parentLi.classList.toggle("showMenu");
            });
        });

        let sidebar = document.querySelector(".sidebar");
        let sidebarBtn = document.querySelector(".bx-menu");
        let mainContent = document.querySelector(".main");

        sidebarBtn.addEventListener("click", () => {
            sidebar.classList.toggle("close");
            if (sidebar.classList.contains("close")) {
                mainContent.style.marginLeft = "78px"; // 當側邊欄收合時，縮小左側邊距
            } else {
                mainContent.style.marginLeft = "250px"; // 當側邊欄展開時，恢復正常的邊距
            }
        });
    </script>
</body>

</html>